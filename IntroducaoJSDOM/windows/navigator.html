<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigator - JavaScript Window Object</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #6f42c1;
            padding-bottom: 10px;
        }
        .section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button {
            background: #6f42c1;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #5a2d91;
        }
        .success {
            background: #28a745;
        }
        .success:hover {
            background: #218838;
        }
        .warning {
            background: #ffc107;
            color: #212529;
        }
        .warning:hover {
            background: #e0a800;
        }
        #output {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            min-height: 100px;
        }
        .code-example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            overflow-x: auto;
        }
        .navigator-info {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 10px;
            margin: 15px 0;
        }
        .navigator-info dt {
            font-weight: bold;
            background: #e9ecef;
            padding: 8px;
            border-radius: 3px;
        }
        .navigator-info dd {
            background: #f8f9fa;
            padding: 8px;
            border-radius: 3px;
            font-family: monospace;
            word-break: break-all;
            margin: 0;
        }
        .feature-test {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        .status {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
        }
        .supported {
            background: #d4edda;
            color: #155724;
        }
        .not-supported {
            background: #f8d7da;
            color: #721c24;
        }
        .geolocation-info {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§­ Navigator - window.navigator</h1>
        
        <div class="section">
            <h2>ğŸ“ Conceito</h2>
            <p>O objeto <code>window.navigator</code> contÃ©m informaÃ§Ãµes sobre o navegador do usuÃ¡rio, incluindo nome, versÃ£o, sistema operacional, idioma, e capacidades do navegador. Ã‰ Ãºtil para detectar recursos e adaptar o comportamento da aplicaÃ§Ã£o.</p>
        </div>

        <div class="section">
            <h2>ğŸ“Š InformaÃ§Ãµes do Navegador</h2>
            <dl class="navigator-info" id="navigatorInfo">
                <!-- SerÃ¡ preenchido dinamicamente -->
            </dl>
            <button onclick="atualizarInfo()" class="success">ğŸ”„ Atualizar InformaÃ§Ãµes</button>
        </div>

        <div class="section">
            <h2>ğŸ” DetecÃ§Ã£o de Recursos</h2>
            <div id="featureDetection" class="feature-test">
                <!-- SerÃ¡ preenchido dinamicamente -->
            </div>
            <button onclick="detectarRecursos()">ğŸ§ª Detectar Recursos</button>
        </div>

        <div class="section">
            <h2>ğŸŒ APIs do Navigator</h2>
            <div class="button-grid">
                <button onclick="obterGeolocalizacao()">ğŸ“ GeolocalizaÃ§Ã£o</button>
                <button onclick="obterInfoConexao()">ğŸ“¶ Info da ConexÃ£o</button>
                <button onclick="obterInfoBateria()">ğŸ”‹ Info da Bateria</button>
                <button onclick="obterInfoMemoria()">ğŸ’¾ Info da MemÃ³ria</button>
                <button onclick="obterInfoGamepads()">ğŸ® Gamepads</button>
                <button onclick="testarPermissoes()">ğŸ” PermissÃµes</button>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“± DetecÃ§Ã£o de Dispositivo e Plataforma</h2>
            <div class="button-grid">
                <button onclick="detectarDispositivo()">ğŸ“± Tipo de Dispositivo</button>
                <button onclick="detectarNavegador()">ğŸŒ Tipo de Navegador</button>
                <button onclick="detectarSO()">ğŸ’» Sistema Operacional</button>
                <button onclick="detectarIdioma()">ğŸŒ Idioma e LocalizaÃ§Ã£o</button>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ§ª Testes AvanÃ§ados</h2>
            <div class="button-grid">
                <button onclick="testarUserAgent()" class="warning">ğŸ•µï¸ Analisar User Agent</button>
                <button onclick="testarCookies()">ğŸª Teste de Cookies</button>
                <button onclick="testarJavaScript()">âš¡ Capacidades JS</button>
                <button onclick="obterInfoCompleta()" class="success">ğŸ“‹ RelatÃ³rio Completo</button>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ’» CÃ³digo JavaScript</h2>
            <div class="code-example">
                <pre><code>// InformaÃ§Ãµes bÃ¡sicas do navegador
navigator.userAgent;      // String do user agent
navigator.appName;        // Nome da aplicaÃ§Ã£o
navigator.appVersion;     // VersÃ£o da aplicaÃ§Ã£o
navigator.platform;      // Plataforma do sistema
navigator.language;      // Idioma preferido
navigator.languages;     // Array de idiomas

// DetecÃ§Ã£o de recursos
navigator.cookieEnabled;  // Cookies habilitados
navigator.onLine;         // Status de conexÃ£o
navigator.javaEnabled();  // Java habilitado

// APIs modernas
navigator.geolocation;    // API de geolocalizaÃ§Ã£o
navigator.serviceWorker;  // Service Workers
navigator.mediaDevices;   // Dispositivos de mÃ­dia</code></pre>
            </div>
        </div>

        <div id="output">
            <h3>ğŸ–¥ï¸ SaÃ­da do Console:</h3>
            <p>Clique nos botÃµes acima e veja os resultados aqui e no console do navegador (F12).</p>
        </div>
    </div>

    <script>
        // FunÃ§Ã£o para adicionar mensagens na saÃ­da
        function adicionarSaida(mensagem) {
            const output = document.getElementById('output');
            const p = document.createElement('p');
            p.innerHTML = `<strong>${new Date().toLocaleTimeString()}:</strong> ${mensagem}`;
            output.appendChild(p);
            console.log(mensagem);
        }

        // Atualizar informaÃ§Ãµes do navigator
        function atualizarInfo() {
            const info = document.getElementById('navigatorInfo');
            const propriedades = [
                ['userAgent', 'User Agent'],
                ['appName', 'Nome da AplicaÃ§Ã£o'],
                ['appVersion', 'VersÃ£o da AplicaÃ§Ã£o'],
                ['platform', 'Plataforma'],
                ['language', 'Idioma Principal'],
                ['languages', 'Idiomas Suportados'],
                ['cookieEnabled', 'Cookies Habilitados'],
                ['onLine', 'Status Online'],
                ['hardwareConcurrency', 'NÃºcleos do Processador'],
                ['maxTouchPoints', 'Pontos de Toque MÃ¡ximo'],
                ['vendor', 'Fornecedor'],
                ['vendorSub', 'Sub-fornecedor'],
                ['product', 'Produto'],
                ['productSub', 'Sub-produto']
            ];

            info.innerHTML = '';
            
            propriedades.forEach(([prop, desc]) => {
                const dt = document.createElement('dt');
                const dd = document.createElement('dd');
                
                dt.textContent = desc + ':';
                
                let valor = navigator[prop];
                if (Array.isArray(valor)) {
                    valor = valor.join(', ');
                } else if (typeof valor === 'boolean') {
                    valor = valor ? 'Sim' : 'NÃ£o';
                } else if (valor === undefined || valor === null) {
                    valor = 'NÃ£o disponÃ­vel';
                }
                
                dd.textContent = valor;
                
                info.appendChild(dt);
                info.appendChild(dd);
            });

            adicionarSaida('ğŸ“Š InformaÃ§Ãµes do navigator atualizadas');
        }

        // Detectar recursos do navegador
        function detectarRecursos() {
            const recursos = [
                { nome: 'Cookies', teste: () => navigator.cookieEnabled },
                { nome: 'Java', teste: () => navigator.javaEnabled() },
                { nome: 'GeolocalizaÃ§Ã£o', teste: () => 'geolocation' in navigator },
                { nome: 'Service Worker', teste: () => 'serviceWorker' in navigator },
                { nome: 'Push Manager', teste: () => 'PushManager' in window },
                { nome: 'Notification', teste: () => 'Notification' in window },
                { nome: 'WebRTC', teste: () => 'RTCPeerConnection' in window },
                { nome: 'WebGL', teste: () => {
                    try {
                        const canvas = document.createElement('canvas');
                        return !!(canvas.getContext('webgl') || canvas.getContext('experimental-webgl'));
                    } catch (e) {
                        return false;
                    }
                }},
                { nome: 'LocalStorage', teste: () => 'localStorage' in window },
                { nome: 'SessionStorage', teste: () => 'sessionStorage' in window },
                { nome: 'IndexedDB', teste: () => 'indexedDB' in window },
                { nome: 'Web Workers', teste: () => 'Worker' in window },
                { nome: 'WebAssembly', teste: () => 'WebAssembly' in window },
                { nome: 'Gamepad API', teste: () => 'getGamepads' in navigator },
                { nome: 'MediaDevices', teste: () => 'mediaDevices' in navigator },
                { nome: 'Clipboard API', teste: () => 'clipboard' in navigator }
            ];

            const featureDiv = document.getElementById('featureDetection');
            featureDiv.innerHTML = '<h4>ğŸ” Recursos Detectados:</h4>';

            recursos.forEach(recurso => {
                const supported = recurso.teste();
                const status = supported ? 'supported' : 'not-supported';
                const icon = supported ? 'âœ…' : 'âŒ';
                
                featureDiv.innerHTML += `
                    <div style="display: flex; justify-content: space-between; align-items: center; margin: 5px 0;">
                        <span>${icon} ${recurso.nome}</span>
                        <span class="status ${status}">${supported ? 'Suportado' : 'NÃ£o Suportado'}</span>
                    </div>
                `;
            });

            adicionarSaida('ğŸ” DetecÃ§Ã£o de recursos concluÃ­da');
        }

        // APIs do Navigator
        function obterGeolocalizacao() {
            if ('geolocation' in navigator) {
                adicionarSaida('ğŸ“ Solicitando geolocalizaÃ§Ã£o...');
                
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        adicionarSaida('âœ… GeolocalizaÃ§Ã£o obtida:');
                        adicionarSaida(`   - Latitude: ${position.coords.latitude}`);
                        adicionarSaida(`   - Longitude: ${position.coords.longitude}`);
                        adicionarSaida(`   - PrecisÃ£o: ${position.coords.accuracy} metros`);
                        
                        if (position.coords.altitude !== null) {
                            adicionarSaida(`   - Altitude: ${position.coords.altitude} metros`);
                        }
                    },
                    function(error) {
                        adicionarSaida(`âŒ Erro na geolocalizaÃ§Ã£o: ${error.message}`);
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 5000,
                        maximumAge: 0
                    }
                );
            } else {
                adicionarSaida('âŒ GeolocalizaÃ§Ã£o nÃ£o suportada');
            }
        }

        function obterInfoConexao() {
            if ('connection' in navigator) {
                const conn = navigator.connection;
                adicionarSaida('ğŸ“¶ InformaÃ§Ãµes da conexÃ£o:');
                adicionarSaida(`   - Tipo: ${conn.effectiveType || 'Desconhecido'}`);
                adicionarSaida(`   - Velocidade: ${conn.downlink || 'Desconhecida'} Mbps`);
                adicionarSaida(`   - RTT: ${conn.rtt || 'Desconhecido'} ms`);
                
                if (conn.saveData !== undefined) {
                    adicionarSaida(`   - Modo economia: ${conn.saveData ? 'Ativado' : 'Desativado'}`);
                }
            } else {
                adicionarSaida('âŒ API de conexÃ£o nÃ£o suportada');
            }
        }

        function obterInfoBateria() {
            if ('getBattery' in navigator) {
                navigator.getBattery().then(function(battery) {
                    adicionarSaida('ğŸ”‹ InformaÃ§Ãµes da bateria:');
                    adicionarSaida(`   - NÃ­vel: ${Math.round(battery.level * 100)}%`);
                    adicionarSaida(`   - Carregando: ${battery.charging ? 'Sim' : 'NÃ£o'}`);
                    
                    if (battery.chargingTime !== Infinity) {
                        adicionarSaida(`   - Tempo para carregar: ${Math.round(battery.chargingTime / 60)} minutos`);
                    }
                    
                    if (battery.dischargingTime !== Infinity) {
                        adicionarSaida(`   - Tempo de bateria: ${Math.round(battery.dischargingTime / 60)} minutos`);
                    }
                });
            } else {
                adicionarSaida('âŒ API de bateria nÃ£o suportada');
            }
        }

        function obterInfoMemoria() {
            if ('memory' in performance) {
                const mem = performance.memory;
                adicionarSaida('ğŸ’¾ InformaÃ§Ãµes de memÃ³ria:');
                adicionarSaida(`   - Limite: ${Math.round(mem.jsHeapSizeLimit / 1048576)} MB`);
                adicionarSaida(`   - Total usado: ${Math.round(mem.totalJSHeapSize / 1048576)} MB`);
                adicionarSaida(`   - Usado: ${Math.round(mem.usedJSHeapSize / 1048576)} MB`);
            } else {
                adicionarSaida('âŒ InformaÃ§Ãµes de memÃ³ria nÃ£o disponÃ­veis');
            }
        }

        function obterInfoGamepads() {
            if ('getGamepads' in navigator) {
                const gamepads = navigator.getGamepads();
                const conectados = Array.from(gamepads).filter(gp => gp !== null);
                
                adicionarSaida(`ğŸ® Gamepads conectados: ${conectados.length}`);
                
                conectados.forEach((gamepad, index) => {
                    adicionarSaida(`   - ${index + 1}: ${gamepad.id}`);
                    adicionarSaida(`     * BotÃµes: ${gamepad.buttons.length}`);
                    adicionarSaida(`     * Eixos: ${gamepad.axes.length}`);
                });
            } else {
                adicionarSaida('âŒ API de Gamepad nÃ£o suportada');
            }
        }

        function testarPermissoes() {
            if ('permissions' in navigator) {
                const permissoes = ['geolocation', 'notifications', 'camera', 'microphone'];
                
                adicionarSaida('ğŸ” Verificando permissÃµes...');
                
                permissoes.forEach(async (permissao) => {
                    try {
                        const resultado = await navigator.permissions.query({name: permissao});
                        adicionarSaida(`   - ${permissao}: ${resultado.state}`);
                    } catch (error) {
                        adicionarSaida(`   - ${permissao}: NÃ£o suportado`);
                    }
                });
            } else {
                adicionarSaida('âŒ API de PermissÃµes nÃ£o suportada');
            }
        }

        // DetecÃ§Ã£o de dispositivo e plataforma
        function detectarDispositivo() {
            const userAgent = navigator.userAgent.toLowerCase();
            let tipo = 'Desktop';
            let detalhes = [];

            if (/mobile|android|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent)) {
                tipo = 'Mobile';
                
                if (/iphone|ipod/i.test(userAgent)) detalhes.push('iPhone/iPod');
                if (/ipad/i.test(userAgent)) detalhes.push('iPad');
                if (/android/i.test(userAgent)) detalhes.push('Android');
            }
            
            if (/tablet|ipad/i.test(userAgent)) {
                tipo = 'Tablet';
            }

            adicionarSaida(`ğŸ“± Tipo de dispositivo: ${tipo}`);
            if (detalhes.length > 0) {
                adicionarSaida(`   - Detalhes: ${detalhes.join(', ')}`);
            }
            
            adicionarSaida(`   - Touch: ${navigator.maxTouchPoints > 0 ? 'Suportado' : 'NÃ£o suportado'}`);
            adicionarSaida(`   - Pontos de toque: ${navigator.maxTouchPoints}`);
        }

        function detectarNavegador() {
            const userAgent = navigator.userAgent;
            let navegador = 'Desconhecido';
            let versao = 'Desconhecida';

            if (userAgent.includes('Chrome') && !userAgent.includes('Edg')) {
                navegador = 'Chrome';
                versao = userAgent.match(/Chrome\/([0-9.]+)/)?.[1] || versao;
            } else if (userAgent.includes('Firefox')) {
                navegador = 'Firefox';
                versao = userAgent.match(/Firefox\/([0-9.]+)/)?.[1] || versao;
            } else if (userAgent.includes('Safari') && !userAgent.includes('Chrome')) {
                navegador = 'Safari';
                versao = userAgent.match(/Version\/([0-9.]+)/)?.[1] || versao;
            } else if (userAgent.includes('Edg')) {
                navegador = 'Edge';
                versao = userAgent.match(/Edg\/([0-9.]+)/)?.[1] || versao;
            } else if (userAgent.includes('Opera') || userAgent.includes('OPR')) {
                navegador = 'Opera';
                versao = userAgent.match(/(Opera|OPR)\/([0-9.]+)/)?.[2] || versao;
            }

            adicionarSaida(`ğŸŒ Navegador: ${navegador} ${versao}`);
            adicionarSaida(`   - Vendor: ${navigator.vendor || 'NÃ£o disponÃ­vel'}`);
            adicionarSaida(`   - Product: ${navigator.product || 'NÃ£o disponÃ­vel'}`);
        }

        function detectarSO() {
            const platform = navigator.platform.toLowerCase();
            const userAgent = navigator.userAgent.toLowerCase();
            let so = 'Desconhecido';

            if (platform.includes('win')) {
                so = 'Windows';
                if (userAgent.includes('windows nt 10')) so += ' 10/11';
                else if (userAgent.includes('windows nt 6.3')) so += ' 8.1';
                else if (userAgent.includes('windows nt 6.2')) so += ' 8';
                else if (userAgent.includes('windows nt 6.1')) so += ' 7';
            } else if (platform.includes('mac')) {
                so = 'macOS';
            } else if (platform.includes('linux')) {
                so = 'Linux';
            } else if (userAgent.includes('android')) {
                so = 'Android';
            } else if (userAgent.includes('iphone') || userAgent.includes('ipad')) {
                so = 'iOS';
            }

            adicionarSaida(`ğŸ’» Sistema Operacional: ${so}`);
            adicionarSaida(`   - Plataforma: ${navigator.platform}`);
            adicionarSaida(`   - Arquitetura: ${navigator.userAgentData?.platform || 'NÃ£o disponÃ­vel'}`);
        }

        function detectarIdioma() {
            adicionarSaida('ğŸŒ InformaÃ§Ãµes de idioma:');
            adicionarSaida(`   - Idioma principal: ${navigator.language}`);
            adicionarSaida(`   - Idiomas aceitos: ${navigator.languages.join(', ')}`);
            
            // Tentar detectar fuso horÃ¡rio
            const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            adicionarSaida(`   - Fuso horÃ¡rio: ${timeZone}`);
            
            // Detectar formato de nÃºmeros
            const numberFormat = new Intl.NumberFormat().format(1234.56);
            adicionarSaida(`   - Formato numÃ©rico: ${numberFormat}`);
        }

        // Testes avanÃ§ados
        function testarUserAgent() {
            const ua = navigator.userAgent;
            adicionarSaida('ğŸ•µï¸ AnÃ¡lise detalhada do User Agent:');
            adicionarSaida(`   - Completo: ${ua}`);
            
            // Extrair informaÃ§Ãµes especÃ­ficas
            const regex = {
                navegador: /(Chrome|Firefox|Safari|Edge|Opera)\/([0-9.]+)/,
                webkit: /(WebKit)\/([0-9.]+)/,
                gecko: /(Gecko)\/([0-9]+)/,
                so: /(Windows NT|Mac OS X|Linux|Android|iOS) ([0-9._]+)/
            };

            Object.entries(regex).forEach(([nome, pattern]) => {
                const match = ua.match(pattern);
                if (match) {
                    adicionarSaida(`   - ${nome}: ${match[1]} ${match[2] || ''}`);
                }
            });
        }

        function testarCookies() {
            adicionarSaida('ğŸª Testando cookies:');
            adicionarSaida(`   - Habilitados: ${navigator.cookieEnabled ? 'Sim' : 'NÃ£o'}`);
            
            if (navigator.cookieEnabled) {
                // Testar criaÃ§Ã£o de cookie
                document.cookie = 'teste=valor; path=/';
                const cookieExists = document.cookie.includes('teste=valor');
                adicionarSaida(`   - Teste de escrita: ${cookieExists ? 'Sucesso' : 'Falhou'}`);
                
                // Limpar cookie de teste
                document.cookie = 'teste=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/';
            }
        }

        function testarJavaScript() {
            adicionarSaida('âš¡ Capacidades JavaScript:');
            
            const testes = [
                { nome: 'ES6 Arrow Functions', teste: () => eval('(() => true)()') },
                { nome: 'ES6 Classes', teste: () => eval('class Test {}; true') },
                { nome: 'ES6 Promises', teste: () => typeof Promise !== 'undefined' },
                { nome: 'ES8 Async/Await', teste: () => eval('(async function() { return true; })') instanceof Function },
                { nome: 'Modules', teste: () => 'import' in window || typeof importScripts !== 'undefined' },
                { nome: 'Fetch API', teste: () => typeof fetch !== 'undefined' },
                { nome: 'Proxy', teste: () => typeof Proxy !== 'undefined' },
                { nome: 'Symbol', teste: () => typeof Symbol !== 'undefined' }
            ];

            testes.forEach(teste => {
                try {
                    const resultado = teste.teste();
                    adicionarSaida(`   - ${teste.nome}: ${resultado ? 'Suportado' : 'NÃ£o suportado'}`);
                } catch (error) {
                    adicionarSaida(`   - ${teste.nome}: Erro (${error.message})`);
                }
            });
        }

        function obterInfoCompleta() {
            adicionarSaida('ğŸ“‹ Gerando relatÃ³rio completo...');
            
            // Limpar saÃ­da anterior
            const output = document.getElementById('output');
            output.innerHTML = '<h3>ğŸ“‹ RelatÃ³rio Completo do Navigator:</h3>';
            
            // Executar todas as funÃ§Ãµes de detecÃ§Ã£o
            atualizarInfo();
            detectarRecursos();
            detectarDispositivo();
            detectarNavegador();
            detectarSO();
            detectarIdioma();
            testarJavaScript();
            
            adicionarSaida('âœ… RelatÃ³rio completo gerado!');
        }

        // Inicializar
        window.onload = function() {
            adicionarSaida('ğŸš€ PÃ¡gina carregada! Explore o objeto Navigator.');
            atualizarInfo();
            detectarRecursos();
        };
    </script>
</body>
</html>